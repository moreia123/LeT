<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login do Administrador</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="login-admin">
    <div class="container">
        <!-- Imagem no topo -->
        <div class="logo-container">
            <img src="Logo.jpeg" alt="Logo" class="logo">
        </div>

        <h2>Login do Administrador</h2>
        <p>Por favor, faça login para acessar o painel de controle.</p>

        <form id="loginAdminForm">
            <input type="text" id="adminUsuario" placeholder="Usuário" required>
            <input type="password" id="adminSenha" placeholder="Senha" required>
            <button type="submit">Entrar</button>
        </form>
    </div>

    <script>
        // Verifica se o administrador existe
        document.getElementById('loginAdminForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const usuario = document.getElementById('adminUsuario').value;
            const senha = document.getElementById('adminSenha').value;

            const admins = JSON.parse(localStorage.getItem('administradores')) || [];
            const admin = admins.find(admin => admin.usuario === usuario && admin.senha === senha);

            if (admin) {
                alert('Login realizado com sucesso!');
                window.location.href = 'admin.html'; // Redireciona para o painel do administrador
            } else {
                alert('Usuário ou senha incorretos!');
            }
        });

        // Cria um administrador padrão se não existir nenhum
        function criarAdminPadrao() {
            const admins = JSON.parse(localStorage.getItem('administradores')) || [];
            if (admins.length === 0) {
                const adminPadrao = { nome: "Ailton", usuario: "Ailton", senha: "123" };
                admins.push(adminPadrao);
                localStorage.setItem('administradores', JSON.stringify(admins));
            }
        }

        // Verifica se é a primeira vez que o sistema é acessado
        const admins = JSON.parse(localStorage.getItem('administradores')) || [];
        if (admins.length === 0) {
            window.location.href = 'cadastro-admin.html'; // Redireciona para o cadastro
        }
    </script>
</body>
</html>
